<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get '.nev' or 'nsx' specification — get_specification • readNSx</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get '.nev' or 'nsx' specification — get_specification"><meta name="description" content="Get '.nev' or 'nsx' specification"><meta property="og:description" content="Get '.nev' or 'nsx' specification"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">readNSx</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.5.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/read-nev-nsx-data.html">Read 'Blackrock' Neural Event &amp; Signals</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dipterix/readNSx/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Get '.nev' or 'nsx' specification</h1>
      <small class="dont-index">Source: <a href="https://github.com/dipterix/readNSx/blob/main/R/specifications.R" class="external-link"><code>R/specifications.R</code></a></small>
      <div class="d-none name"><code>get_specification.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get '.nev' or 'nsx' specification</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_specification</span><span class="op">(</span><span class="va">version</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nev"</span>, <span class="st">"nsx"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-version">version<a class="anchor" aria-label="anchor" href="#arg-version"></a></dt>
<dd><p>either character string or a vector of two integers; for
example, <code>"2.2"</code>, <code>"2.3"</code>, <code>c(3, 0)</code>. Currently only these
three versions are supported since I was unable to find any other versions.
Please file an issue ticket if others versions are desired.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>file type; choices are <code>'nev'</code> or <code>'nsx'</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The file specification as a list. The specification usually contains
three sections: basic header (fixed length), extended header
(dictionary-style), and data packets (data stream). The specification is
used to parse the data files.</p>
    </div>
    <div class="section level2">
    <h2 id="-nev-data">'NEV' Data<a class="anchor" aria-label="anchor" href="#-nev-data"></a></h2>


<p>A 'NEV' object consists of three sections:</p>
<p>Section 1 contains basic information such as the time-origin of all the
time-stamps, the time-stamp sampling frequency, data packets sizes.</p>
<p>Section 2 is extended header containing the configurations of channels,
digital signals, etc. For any data packets in section 3, there should
be at least one table in this section describing the settings.</p>
<p>section 3 is a collection of event packets such as digital signal inputs (
most likely to be used at version 2.2 or by 'Ripple'), spike waveform,
comments (sometimes storing epoch information), etc.</p>
<p>Please be aware that while most common entries can be found across different
file versions, some entries are version-specific. If you are making your
script general, you need to be very careful handling these differences.
For more information, please search for the data specification manual
from the 'Blackrock-Microsystems' website.</p>
    </div>
    <div class="section level2">
    <h2 id="-nsx-data">'NSx' Data<a class="anchor" aria-label="anchor" href="#-nsx-data"></a></h2>


<p>A 'NSx' file refers to the data files ending with <code>'ns1'</code> through
<code>'ns9'</code>. Common types are <code>'ns2'</code> (sampling at 1000 Hz),
<code>'ns3'</code> (sampling at 2000 Hz), and <code>'ns5'</code> (sampling at 30,000 Hz).</p>
<p>A 'NSx' file also consists of three sections. Section 1 contains basic
information such as the time-origin of all the time-stamps, sampling
frequencies, and channel counts within the file. Please be careful that
item <code>time_resolution_timestamp</code> is not the sampling frequency for
signals. This item is the sampling frequency for time-stamp. To obtain the
signal sample rate, divided <code>time_resolution_timestamp</code> by
<code>period</code>. For example, <code>'ns3'</code> usually has time-stamp resolution
<code>30,000</code> and <code>period=15</code>, hence the signal sample rate is
<code>30000/15=2000Hz</code>.</p>
<p>Section 2 usually contains one and only one channel table of which the
number of rows should coincide with number of channels from section 1. Other
information such as channel labels, physical connectors, pins, units, filter
settings, digital-to-analog conversion are also included. Since
<code>readNSx</code> always attempts to convert signals in 'volts' or 'milli-volts'
to 'micro-volts', the <code>'units'</code> column might be different to what's
actual recorded in the 'NSx' file headers.</p>
<p>Section 3 contains partitions of continuous recording. When imported/loaded
from <code>readNSx</code>, the digital signals are always converted to analog
signals with 'micro-volts' unit. Please use <code><a href="get_channel.html">get_channel</a></code> to
get the channel data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_specification</span><span class="op">(</span>version <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">"nev"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Blackrock [nev] specification version [2.3]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 1: Header Basic Information.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - file_type [type: string, size: 8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - file_spec [type: uint8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - additional_flags [type: uint16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - bytes_in_headers [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - bytes_in_data_packet [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time_resolution_timestamp [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time_resolution_samples [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time_origin [type: uint16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - application_to_create_file [type: string, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - comment [type: string, size: 256]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - number_of_extended_headers [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 2: Header Extended Information.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - ARRAYNME [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - ECOMMENT [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - CCOMMENT [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - MAPFILE [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEUEVWAV [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEUEVLBL [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - NEUEVFLT [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - DIGLABEL [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - VIDEOSYN [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - TRACKOBJ [type: packet, size: 32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 3: Data Packets.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 0 [type: packet, size: 20]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 1-2048 [type: packet, size: 16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 65535 [type: comment_packet, size: 24]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 65534 [type: packet, size: 40]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 65533 [type: packet, size: 28]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 65532 [type: packet, size: 16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - 65531 [type: packet, size: 16]</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">get_specification</span><span class="op">(</span>version <span class="op">=</span> <span class="st">"3.0"</span>, type <span class="op">=</span> <span class="st">"nsx"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Blackrock [nsx] specification version [3.0]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 1: Basic Header.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - file_type [type: string, size: 8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - file_spec [type: uint8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - bytes_in_headers [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - label [type: string, size: 16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - comment [type: string, size: 256]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - period [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time_resolution_timestamp [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - time_origin [type: uint16]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - channel_count [type: uint32]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 2: Extended Headers.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - CC [type: packet, size: 66]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 3: Data Packets.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - data_header [type: packet, size: 13]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Section 3 (continued): Variable data points.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - data_points [type: int16]</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zhengjia Wang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

